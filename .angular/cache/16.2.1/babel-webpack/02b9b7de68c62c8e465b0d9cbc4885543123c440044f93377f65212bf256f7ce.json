{"ast":null,"code":"import _asyncToGenerator from \"D:/r/class record/TDH APP/cyber-mobile/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { PushNotifications } from \"@capacitor/push-notifications\";\nimport * as i0 from \"@angular/core\";\nlet PushNotificationService = /*#__PURE__*/(() => {\n  var _class;\n  class PushNotificationService {\n    constructor() {\n      var _this = this;\n      this.addListeners = /*#__PURE__*/_asyncToGenerator(function* () {\n        yield PushNotifications.addListener(\"registration\", token => {\n          console.info(\"Registration token: \", token.value);\n        });\n        yield PushNotifications.addListener(\"registrationError\", err => {\n          console.error(\"Registration error: \", err.error);\n        });\n        yield PushNotifications.addListener(\"pushNotificationReceived\", notification => {\n          console.log(\"Push notification received: \", notification);\n        });\n        yield PushNotifications.addListener(\"pushNotificationActionPerformed\", notification => {\n          console.log(\"Push notification action performed\", notification.actionId, notification.inputValue);\n        });\n      });\n      this.registerNotifications = /*#__PURE__*/_asyncToGenerator(function* () {\n        let permStatus = yield _this.checkPermissions();\n        if (permStatus.receive === \"prompt\") {\n          permStatus = yield PushNotifications.requestPermissions();\n        }\n        if (permStatus.receive == \"granted\") {\n          yield PushNotifications.register();\n        }\n      });\n      this.checkPermissions = /*#__PURE__*/_asyncToGenerator(function* () {\n        let permStatus = yield PushNotifications.checkPermissions();\n        return permStatus;\n      });\n      this.getDeliveredNotifications = /*#__PURE__*/_asyncToGenerator(function* () {\n        const notificationList = yield PushNotifications.getDeliveredNotifications();\n        console.log(\"delivered notifications\", notificationList);\n      });\n    }\n    init() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        return;\n        _this2.addListeners();\n        _this2.getDeliveredNotifications();\n      })();\n    }\n  }\n  _class = PushNotificationService;\n  _class.ɵfac = function PushNotificationService_Factory(t) {\n    return new (t || _class)();\n  };\n  _class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: _class,\n    factory: _class.ɵfac,\n    providedIn: \"root\"\n  });\n  return PushNotificationService;\n})();\nexport { PushNotificationService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}