{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nlet ImageFallBackDirective = /*#__PURE__*/(() => {\n  var _class;\n  class ImageFallBackDirective {\n    constructor(el, domSanit) {\n      this.el = el;\n      this.domSanit = domSanit;\n      this.retry = 3;\n    }\n    ionViewDidEnter() {\n      this.retry = 3;\n      if (this.cancalToken) clearTimeout(this.cancalToken);\n    }\n    onError() {\n      if (!this.el) return;\n      if (this.retry < 0) {\n        if (this.cancalToken) clearTimeout(this.cancalToken);\n        return;\n      }\n      const image = this.el.nativeElement;\n      let src = image.src;\n      if (src == environment.api) return;\n      this.cancalToken = setTimeout(() => {\n        if (src.includes(\"localhost\") && this.retry > 1) return;\n        // image.src = src;\n      }, 1000);\n      this.retry--;\n    }\n  }\n  _class = ImageFallBackDirective;\n  _class.ɵfac = function ImageFallBackDirective_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.DomSanitizer));\n  };\n  _class.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n    type: _class,\n    selectors: [[\"\", \"ImageFallBack\", \"\"]],\n    hostBindings: function ImageFallBackDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"error\", function ImageFallBackDirective_error_HostBindingHandler() {\n          return ctx.onError();\n        });\n      }\n    }\n  });\n  return ImageFallBackDirective;\n})();\nexport { ImageFallBackDirective };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}