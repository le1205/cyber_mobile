{"ast":null,"code":"import _asyncToGenerator from \"D:/r/class record/TDH APP/cyber-mobile/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../../shared/components/icon-input/icon-input.component\";\nimport * as i6 from \"../../../../shared/components/slide-header/slide-header.component\";\nfunction ProfileSettingsComponent_ion_content_11_ion_icon_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-icon\", 22);\n    i0.ɵɵlistener(\"click\", function ProfileSettingsComponent_ion_content_11_ion_icon_10_Template_ion_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.toggleShowPassword());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileSettingsComponent_ion_content_11_ion_icon_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-icon\", 23);\n    i0.ɵɵlistener(\"click\", function ProfileSettingsComponent_ion_content_11_ion_icon_11_Template_ion_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.toggleShowPassword());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileSettingsComponent_ion_content_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-content\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"icon-input\", 12);\n    i0.ɵɵelement(4, \"ion-icon\", 13)(5, \"input\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"icon-input\", 16);\n    i0.ɵɵelement(8, \"ion-icon\", 13)(9, \"input\", 17);\n    i0.ɵɵtemplate(10, ProfileSettingsComponent_ion_content_11_ion_icon_10_Template, 1, 0, \"ion-icon\", 18);\n    i0.ɵɵtemplate(11, ProfileSettingsComponent_ion_content_11_ion_icon_11_Template, 1, 0, \"ion-icon\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 20)(13, \"ion-button\", 21);\n    i0.ɵɵlistener(\"click\", function ProfileSettingsComponent_ion_content_11_Template_ion_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.save());\n    });\n    i0.ɵɵtext(14, \"Save\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.form);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"placeholder\", \"Old Password\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"placeholder\", \"Password\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r0.showePassword ? \"text\" : \"password\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showePassword);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.showePassword);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.form.invalid);\n  }\n}\nlet ProfileSettingsComponent = /*#__PURE__*/(() => {\n  var _class;\n  class ProfileSettingsComponent {\n    constructor(fb, navController, router, aut, loadingCtrl) {\n      this.fb = fb;\n      this.navController = navController;\n      this.router = router;\n      this.aut = aut;\n      this.loadingCtrl = loadingCtrl;\n      this.showePassword = false;\n      this.changing = false;\n    }\n    ionViewWillEnter() {\n      this.initForm();\n    }\n    initForm() {\n      this.form = this.fb.group({\n        old_password: [null, Validators.required],\n        new_password: [null, Validators.required]\n      });\n    }\n    save() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const loading = yield _this.loadingCtrl.create({\n          message: 'Please wait',\n          animated: true\n        });\n        loading.present();\n        try {\n          yield _this.aut.changePassword(_this.form.value);\n          loading.dismiss();\n          _this.router.navigateForward(['/home/profile']);\n        } catch (error) {\n          loading.dismiss();\n          var errorpb = yield _this.loadingCtrl.create({\n            spinner: null,\n            message: 'Opps! There is an error.',\n            backdropDismiss: true,\n            showBackdrop: true,\n            animated: true,\n            duration: 3000\n          });\n          errorpb.present();\n        }\n        loading.dismiss();\n      })();\n    }\n    back() {\n      this.navController.back();\n    }\n    toggleShowPassword() {\n      this.showePassword = !this.showePassword;\n    }\n  }\n  _class = ProfileSettingsComponent;\n  _class.ɵfac = function ProfileSettingsComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.NavController), i0.ɵɵdirectiveInject(i2.NavController), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i2.LoadingController));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-profile-settings\"]],\n    decls: 12,\n    vars: 1,\n    consts: [[1, \"shadow-none\", \"animate__bounceInDown\", \"animate__animated\"], [1, \"pt-4\", \"pb-2\"], [\"size\", \"4\"], [1, \"flex\", \"justify-start\", \"mt-5\", \"ml-3\"], [\"size\", \"large\", \"name\", \"chevron-back-outline\", 2, \"margin-top\", \"-14px\", 3, \"click\"], [\"size\", \"8\"], [1, \"ion-text-start\", \"mt-2.5\"], [1, \"title\"], [\"class\", \"animate__bounceInUp animate__animated\", 3, \"formGroup\", 4, \"ngIf\"], [1, \"animate__bounceInUp\", \"animate__animated\", 3, \"formGroup\"], [1, \"absolute\", \"bottom-[30%]\", \"w-full\", \"overflow-clip\", \"px-4\"], [1, \"w-full\", \"mb-2\"], [3, \"placeholder\"], [\"icon\", \"\", \"name\", \"lock-open-outline\", 1, \"input-icon\", \"text-2xl\"], [\"type\", \"email\", \"formControlName\", \"old_password\", \"input\", \"\"], [1, \"w-full\", \"mt-1\", \"md:mt-5\"], [1, \"login\", 3, \"placeholder\"], [\"formControlName\", \"new_password\", \"input\", \"\", 1, \"rounded-full\", 3, \"type\"], [\"class\", \"text-2xl mb-3\", \"name\", \"eye-outline\", \"iconRight\", \"\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"text-2xl mb-3\", \"name\", \"eye-off-outline\", \"iconRight\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"w-full\", \"flex\", \"justify-center\"], [\"size\", \"large\", \"shape\", \"round\", 1, \"w-full\", \"mt-2\", \"mx-2\", 3, \"disabled\", \"click\"], [\"name\", \"eye-outline\", \"iconRight\", \"\", 1, \"text-2xl\", \"mb-3\", 3, \"click\"], [\"name\", \"eye-off-outline\", \"iconRight\", \"\", 1, \"text-2xl\", \"mb-3\", 3, \"click\"]],\n    template: function ProfileSettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"slide-header\", 0)(1, \"div\", 1)(2, \"ion-row\")(3, \"ion-col\", 2)(4, \"div\", 3)(5, \"div\")(6, \"ion-icon\", 4);\n        i0.ɵɵlistener(\"click\", function ProfileSettingsComponent_Template_ion_icon_click_6_listener() {\n          return ctx.back();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"ion-col\", 5)(8, \"div\", 6)(9, \"h1\", 7);\n        i0.ɵɵtext(10, \"Change Password\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(11, ProfileSettingsComponent_ion_content_11_Template, 15, 7, \"ion-content\", 8);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.form);\n      }\n    },\n    dependencies: [i4.NgIf, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i2.IonButton, i2.IonCol, i2.IonContent, i2.IonIcon, i2.IonRow, i5.IconInputComponent, i1.FormGroupDirective, i1.FormControlName, i6.SlideHeaderComponent],\n    styles: [\".title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:22px;line-height:27px}input[_ngcontent-%COMP%]{background:transparent}section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100vh}\"]\n  });\n  return ProfileSettingsComponent;\n})();\nexport { ProfileSettingsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}